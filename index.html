<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Present Simple: –§–æ–Ω–∞—Ä–∏–∫ –∏ –õ–∞–∑–µ—Ä—ã</title>
    <style>
        /* === –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò –ò –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï === */
        body {
            margin: 0; padding: 0; background-color: #0b0c10; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden; color: #fff; user-select: none;
        }

        #game-wrapper {
            position: relative; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
        }

        #game-container {
            width: 1280px; height: 720px;
            background: #1f2833;
            position: relative; transform-origin: center center;
            box-shadow: 0 0 30px #45a29e; border: 2px solid #66fcf1;
            border-radius: 15px; overflow: hidden;
        }

        .screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; flex-direction: column; align-items: center; justify-content: center;
        }
        .screen.active { display: flex; }

        h1 { font-size: 60px; color: #66fcf1; margin-bottom: 20px; text-shadow: 0 0 10px #45a29e; text-align: center;}
        h2 { font-size: 40px; color: #c5c6c7; margin-bottom: 15px; z-index: 10; text-align: center;}

        /* –ö–Ω–æ–ø–∫–∏ */
        button {
            padding: 15px 35px; font-size: 26px; font-weight: bold; margin: 10px; cursor: pointer;
            border: 2px solid #66fcf1; border-radius: 10px; background: rgba(11, 12, 16, 0.8);
            color: #66fcf1; transition: 0.3s; box-shadow: 0 0 10px rgba(102, 252, 241, 0.2);
        }
        button:hover:not(:disabled) { background: #66fcf1; color: #0b0c10; box-shadow: 0 0 20px #66fcf1; }
        button:disabled { border-color: #555; color: #555; cursor: not-allowed; }

        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å UI */
        .top-bar {
            position: absolute; top: 15px; left: 20px; right: 20px;
            display: flex; justify-content: space-between; align-items: center; z-index: 100;
        }
        .score-board { font-size: 28px; font-weight: bold; background: rgba(0,0,0,0.5); padding: 10px 20px; border-radius: 10px; border: 1px solid #45a29e; }
        .controls { display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.5); padding: 5px 15px; border-radius: 10px; border: 1px solid #45a29e; }
        .controls input[type=range] { cursor: pointer; }

        /* === –¢–ï–û–†–ò–Ø (–ù–æ–≤—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ —Å—Ç–∏–ª–∏) === */
        #screen-theory { justify-content: flex-start; padding-top: 30px; }
        .theory-cards-container {
            display: flex; gap: 20px; justify-content: center; align-items: stretch;
            width: 95%; max-width: 1200px; margin-top: 10px;
        }
        .theory-card {
            flex: 1; background: rgba(11, 12, 16, 0.85); border: 2px solid #45a29e;
            border-radius: 15px; padding: 20px; text-align: left;
            box-shadow: 0 0 15px rgba(69, 162, 158, 0.3);
            display: flex; flex-direction: column;
        }
        .theory-card h3 {
            margin-top: 0; font-size: 28px; text-align: center; border-bottom: 2px dashed #45a29e;
            padding-bottom: 10px; margin-bottom: 15px;
        }
        .t-pos h3 { color: #4ade80; } /* –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ - –∑–µ–ª–µ–Ω–æ–µ */
        .t-neg h3 { color: #ff4757; } /* –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ - –∫—Ä–∞—Å–Ω–æ–µ */
        .t-que h3 { color: #f1c40f; } /* –í–æ–ø—Ä–æ—Å - –∂–µ–ª—Ç–æ–µ */
        
        .theory-formula {
            background: rgba(255,255,255,0.05); padding: 12px; border-radius: 10px;
            font-size: 19px; margin-bottom: 15px; border-left: 4px solid;
            line-height: 1.4; font-weight: bold; text-align: center;
        }
        .t-pos .theory-formula { border-color: #4ade80; }
        .t-neg .theory-formula { border-color: #ff4757; }
        .t-que .theory-formula { border-color: #f1c40f; }

        .theory-text { font-size: 18px; line-height: 1.5; color: #c5c6c7; flex-grow: 1; }
        .theory-text ul { padding-left: 20px; margin: 10px 0; }
        .theory-text li { margin-bottom: 10px; }
        
        .hl-pronoun { color: #f1c40f; font-weight: bold; } /* I, You, He... */
        .hl-verb { color: #4ade80; font-weight: bold; } /* play, reads... */
        .hl-helper { color: #66fcf1; font-weight: bold; } /* Do, Does, don't... */
        .hl-s { background: #d9534f; color: #fff; padding: 0 4px; border-radius: 4px; } /* –æ–∫–æ–Ω—á–∞–Ω–∏–µ -s */

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); display: none; justify-content: center; align-items: center; z-index: 200;
        }
        .modal-content {
            background: #1f2833; color: #fff; padding: 40px; border-radius: 15px;
            text-align: center; max-width: 650px; border: 4px solid #45a29e;
            box-shadow: 0 0 30px rgba(69, 162, 158, 0.5);
        }
        .modal-content h3 { font-size: 34px; color: #ff4757; margin-top: 0; }
        .modal-content p { font-size: 24px; font-weight: normal; }

        /* –£–†–û–í–ï–ù–¨ 1: –§–û–ù–ê–†–ò–ö */
        #l1-words-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; }
        .hidden-word {
            position: absolute; font-size: 45px; font-weight: bold; color: #66fcf1;
            cursor: pointer; padding: 20px; text-shadow: 0 0 15px #45a29e;
        }
        #l1-dark-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.98); z-index: 3; pointer-events: none; transition: background 0.1s;
        }
        .l1-subject { position: absolute; bottom: 40px; width: 100%; text-align: center; font-size: 40px; font-weight: bold; z-index: 5; color: #fff;}
        .l1-hint { position: absolute; width: 100%; text-align: center; font-size: 22px; color: #4ade80; z-index: 5;}

        /* –£–†–û–í–ï–ù–¨ 2: –ó–í–ï–ó–î–û–ü–ê–î –ò –ü–£–®–ö–ê */
        #l2-sky { position: absolute; width: 100%; height: 100%; top: 0; left: 0; background: #0b0c10; z-index: 1;}
        .l2-star {
            position: absolute; top: 150px; width: 270px; height: 120px;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><polygon points="50,5 61,35 95,35 68,55 78,85 50,70 22,85 32,55 5,35 39,35" fill="%23f1c40f"/></svg>') no-repeat center;
            background-size: contain; display: flex; justify-content: center; align-items: center;
            font-size: 24px; font-weight: bold; color: #000; text-shadow: 0 0 5px #fff;
        }
        #l2-cannon {
            position: absolute; bottom: 20px; left: 600px; width: 80px; height: 100px;
            background: #45a29e; border-radius: 10px 10px 0 0; z-index: 5;
            box-shadow: inset 0 0 20px #0b0c10, 0 0 15px #66fcf1;
        }
        .l2-laser {
            position: absolute; display: none; background: #ff0055;
            width: 20px; height: 60px; border-radius: 10px; box-shadow: 0 0 15px #ff0055; z-index: 4;
        }

        /* –£–†–û–í–ï–ù–¨ 3: –°–ë–û–†–ö–ê –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø */
        #l3-workspace { display: flex; flex-direction: column; align-items: center; width: 100%; z-index: 5;}
        #l3-sentence {
            display: flex; gap: 15px; margin-top: 60px; margin-bottom: 50px;
            min-height: 80px; padding: 20px; border-bottom: 3px dashed #45a29e; width: 800px; justify-content: center;
        }
        .l3-slot { font-size: 34px; font-weight: bold; color: #66fcf1; padding: 10px 20px; background: rgba(69, 162, 158, 0.2); border-radius: 10px; transition: 0.2s;}
        
        .l3-slot.filled { cursor: pointer; background: rgba(69, 162, 158, 0.6); border: 2px solid #66fcf1; color: #fff; }
        .l3-slot.filled:hover { background: #ff4757; border-color: #ff4757; transform: scale(0.95); }
        .l3-slot.filled:hover::after { content: " ‚ùå"; font-size: 20px; }

        #l3-pool { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; width: 800px;}
        .l3-word {
            font-size: 30px; padding: 15px 30px; background: #0b0c10; border: 2px solid #66fcf1;
            border-radius: 15px; cursor: pointer; transition: 0.2s; color: #fff;
        }
        .l3-word:hover { background: #45a29e; transform: scale(1.1); }

        #secret-word-btn { display: none; background: #8e44ad; border-color: #9b59b6; }
    </style>
</head>
<body>

<script>
    (function() {
        const allowedDomains = ['stepik.org', 'welcome.stepik.org'];
        const referrer = document.referrer;
        const isLocal = window.location.protocol === 'file:';
        if (!allowedDomains.some(domain => referrer.includes(domain)) && !isLocal) {
            document.body.innerHTML = `
                <div style="background:#000; color:#fff; height:100vh; display:flex;
                           flex-direction:column; align-items:center; justify-content:center;
                           font-family:sans-serif; text-align:center; padding:20px;">
                    <h1>‚õîÔ∏è –î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</h1>
                    <p>–≠—Ç–∞ –∏–≥—Ä–∞ ‚Äî —á–∞—Å—Ç—å –ø–ª–∞—Ç–Ω–æ–≥–æ –∫—É—Ä—Å–∞. <br>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –æ–±—É—á–µ–Ω–∏—é –Ω–∞ Stepik.</p>
                    <a href="https://stepik.org" style="color:#4ade80; margin-top:20px; font-size:20px;">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∫—É—Ä—Å—É</a>
                </div>`;
            window.stop();
        }
    })();
</script>

<audio id="bg-music" src="https://george-stone-pax.github.io/my-game-assets/Aylex%20-%20Back%20To%20Life%20(freetouse.com).mp3" loop></audio>
<audio id="snd-correct" src="https://george-stone-pax.github.io/my-game-assets/rightanswer-95219.mp3"></audio>
<audio id="snd-wrong" src="https://george-stone-pax.github.io/my-game-assets/dodgeball.mp3"></audio>

<div id="game-wrapper">
    <div id="game-container">
        
        <div class="top-bar">
            <div class="score-board">–ë–∞–ª–ª—ã: <span id="score-display">0</span></div>
            <div class="controls">
                <span style="font-size:20px;">üîä</span>
                <input type="range" id="vol" min="0" max="1" step="0.1" value="0.5">
                <button style="padding: 5px 15px; font-size: 18px; margin:0;" onclick="showHelp()">‚ùì –ö–∞–∫ –∏–≥—Ä–∞—Ç—å</button>
                <button style="padding: 5px 15px; font-size: 18px; margin:0;" onclick="toggleFullscreen()">‚õ∂</button>
            </div>
        </div>

        <div id="screen-menu" class="screen active">
            <h1>Present Simple</h1>
            <button onclick="switchScreen('screen-theory')">üìö –¢–µ–æ—Ä–∏—è –∏ –°–µ–∫—Ä–µ—Ç—ã</button>
            <button id="btn-start" disabled onclick="startLevel(1)">üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É üîí</button>
        </div>

        <!-- === –ù–û–í–´–ô –ö–†–ê–°–ò–í–´–ô –≠–ö–†–ê–ù –¢–ï–û–†–ò–ò === -->
        <div id="screen-theory" class="screen">
            <h2 style="font-size: 45px; text-shadow: 0 0 10px #66fcf1; color: #fff; margin-bottom: 5px;">–°–µ–∫—Ä–µ—Ç—ã Present Simple</h2>
            <p style="font-size: 20px; color: #4ade80; margin-top: 0; margin-bottom: 15px;">–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏ —Ñ–æ—Ä–º—É–ª—ã, —á—Ç–æ–±—ã –ø–æ–±–µ–¥–∏—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö!</p>
            
            <div class="theory-cards-container">
                <!-- –ö–ê–†–¢–û–ß–ö–ê 1: –£–¢–í–ï–†–ñ–î–ï–ù–ò–Ø -->
                <div class="theory-card t-pos">
                    <h3>‚úÖ –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</h3>
                    <div class="theory-formula">
                        <span class="hl-pronoun">–ö—Ç–æ</span> + <span class="hl-verb">–î–µ–π—Å—Ç–≤–∏–µ</span> + –æ—Å—Ç–∞–ª—å–Ω–æ–µ
                    </div>
                    <div class="theory-text">
                        <ul>
                            <li>–î–ª—è <span class="hl-pronoun">I, You, We, They</span> –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–π –≥–ª–∞–≥–æ–ª –∏–∑ —Å–ª–æ–≤–∞—Ä—è.<br>
                                <i>–ü—Ä–∏–º–µ—Ä: I <span class="hl-verb">play</span> chess.</i>
                            </li>
                            <li style="margin-top: 15px;">–î–ª—è <span class="hl-pronoun">He, She, It</span> <b>–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û</b> –¥–æ–±–∞–≤–ª—è–µ–º –∫ –≥–ª–∞–≥–æ–ª—É –æ–∫–æ–Ω—á–∞–Ω–∏–µ <span class="hl-s">-s</span>.<br>
                                <i>–ü—Ä–∏–º–µ—Ä: He <span class="hl-verb">play<span class="hl-s">s</span></span> chess.</i>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- –ö–ê–†–¢–û–ß–ö–ê 2: –û–¢–†–ò–¶–ê–ù–ò–Ø -->
                <div class="theory-card t-neg">
                    <h3>‚ùå –û—Ç—Ä–∏—Ü–∞–Ω–∏—è</h3>
                    <div class="theory-formula">
                        <span class="hl-pronoun">–ö—Ç–æ</span> + <span class="hl-helper">don't / doesn't</span> + <span class="hl-verb">–î–µ–π—Å—Ç–≤–∏–µ</span>
                    </div>
                    <div class="theory-text">
                        <ul>
                            <li>–° <span class="hl-pronoun">I, You, We, They</span> —Å—Ç–∞–≤–∏–º –ø–æ–º–æ—â–Ω–∏–∫–∞ <span class="hl-helper">don't</span>.<br>
                                <i>–ü—Ä–∏–º–µ—Ä: They <span class="hl-helper">don't</span> <span class="hl-verb">play</span>.</i>
                            </li>
                            <li style="margin-top: 15px;">–° <span class="hl-pronoun">He, She, It</span> —Å—Ç–∞–≤–∏–º <span class="hl-helper">doesn't</span>.<br>
                                ‚ö†Ô∏è <b>–í–Ω–∏–º–∞–Ω–∏–µ:</b> –ñ–∞–¥–Ω—ã–π <span class="hl-helper">doesn't</span> –∑–∞–±–∏—Ä–∞–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ <span class="hl-s">-s</span> —É –≥–ª–∞–≥–æ–ª–∞!<br>
                                <i>–ü—Ä–∏–º–µ—Ä: She <span class="hl-helper">doesn't</span> <span class="hl-verb">play</span>. (–±–µ–∑ -s!)</i>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- –ö–ê–†–¢–û–ß–ö–ê 3: –í–û–ü–†–û–°–´ -->
                <div class="theory-card t-que">
                    <h3>‚ùì –í–æ–ø—Ä–æ—Å—ã</h3>
                    <div class="theory-formula">
                        <span class="hl-helper">Do / Does</span> + <span class="hl-pronoun">–ö—Ç–æ</span> + <span class="hl-verb">–î–µ–π—Å—Ç–≤–∏–µ</span> + ?
                    </div>
                    <div class="theory-text">
                        <ul>
                            <li>–°–ª–æ–≤–∞-–ø–æ–º–æ—â–Ω–∏–∫–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä—ã–≥–∞—é—Ç –≤ —Å–∞–º–æ–µ <b>–Ω–∞—á–∞–ª–æ</b>!</li>
                            <li style="margin-top: 10px;"><span class="hl-helper">Do</span> üëâ –¥–ª—è <span class="hl-pronoun">I, You, We, They</span><br>
                                <i><span class="hl-helper">Do</span> you <span class="hl-verb">like</span> pizza?</i>
                            </li>
                            <li style="margin-top: 10px;"><span class="hl-helper">Does</span> üëâ –¥–ª—è <span class="hl-pronoun">He, She, It</span> (–∏ –æ–Ω —Å–Ω–æ–≤–∞ –∑–∞–±–∏—Ä–∞–µ—Ç -s —É –≥–ª–∞–≥–æ–ª–∞).<br>
                                <i><span class="hl-helper">Does</span> he <span class="hl-verb">read</span>?</i>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <button onclick="unlockGame()" style="margin-top: 25px; padding: 15px 50px; font-size: 28px;">–Ø –≤—Å—ë –ø–æ–Ω—è–ª! –í –±–æ–π!</button>
        </div>

        <div id="screen-level1" class="screen">
            <h2 style="position: absolute; top: 20px; z-index: 10;">–£—Ä–æ–≤–µ–Ω—å 1: –ü–æ–∏—Å–∫ –≤ —Ç–µ–º–Ω–æ—Ç–µ</h2>
            <div class="l1-hint" style="top: 80px;">–£–¥–µ—Ä–∂–∏–≤–∞–π –ü–†–ê–í–£–Æ –∫–Ω–æ–ø–∫—É –º—ã—à–∏, —á—Ç–æ–±—ã —Å–≤–µ—Ç–∏—Ç—å —Ñ–æ–Ω–∞—Ä–∏–∫–æ–º!</div>
            <div id="l1-words-container"></div>
            <div id="l1-dark-overlay"></div>
            <div class="l1-subject" id="l1-subject"></div>
        </div>

        <div id="screen-level2" class="screen">
            <h2 style="position: absolute; top: 20px; z-index: 10;">–£—Ä–æ–≤–µ–Ω—å 2: –õ–∞–∑–µ—Ä–Ω–∞—è –ø—É—à–∫–∞ (–û—Ç—Ä–∏—Ü–∞–Ω–∏—è)</h2>
            <div class="l1-subject" id="l2-subject" style="bottom: 150px;"></div>
            <div id="l2-sky">
                <div id="l2-stars-container"></div>
                <div id="l2-cannon"></div>
                <div class="l2-laser" id="l2-laser"></div>
            </div>
        </div>

        <div id="screen-level3" class="screen">
            <h2 style="position: absolute; top: 20px; z-index: 10;">–£—Ä–æ–≤–µ–Ω—å 3: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤</h2>
            <div id="l3-workspace">
                <div id="l3-sentence"></div>
                <div id="l3-pool"></div>
            </div>
        </div>

        <div id="screen-end" class="screen">
            <h1>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h1>
            <h2>–û—Ü–µ–Ω–∫–∞: <span id="final-grade" style="color: #f1c40f; font-size: 80px;"></span></h2>
            <p style="font-size: 30px;">–ù–∞–±—Ä–∞–Ω–æ –±–∞–ª–ª–æ–≤: <span id="final-score">0</span> –∏–∑ 15.</p>
            <div>
                <button onclick="showModal('modal-criteria')">–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏</button>
                <button id="secret-word-btn" onclick="showModal('modal-secret')">üóùÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –°–ï–ö–†–ï–¢–ù–û–ï –°–õ–û–í–û</button>
                <button onclick="location.reload()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
        </div>

        <div id="modal-error" class="modal-overlay">
            <div class="modal-content">
                <h3>–û—à–∏–±–∫–∞! ‚ùå</h3>
                <div id="error-text"></div>
                <p style="color: #ff4757; font-size: 20px; margin-top: 20px; font-weight: bold;">–®—Ç—Ä–∞—Ñ: -5 –±–∞–ª–ª–æ–≤</p>
                <button onclick="closeError()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <div id="modal-criteria" class="modal-overlay">
            <div class="modal-content">
                <h3 style="color: #66fcf1;">–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏</h3>
                <p style="text-align: left; font-size: 22px; line-height: 1.6;">
                    ¬´5¬ª: 13‚Äì15 –±–∞–ª–ª–æ–≤ (85-100%)<br>
                    ¬´4¬ª: 11‚Äì12 –±–∞–ª–ª–æ–≤ (70-84%)<br>
                    ¬´3¬ª: 8‚Äì10 –±–∞–ª–ª–æ–≤ (50-69%)<br>
                    ¬´2¬ª: 0‚Äì7 –±–∞–ª–ª–æ–≤ (–º–µ–Ω–µ–µ 50%)
                </p>
                <button onclick="closeModal('modal-criteria')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>

        <div id="modal-secret" class="modal-overlay">
            <div class="modal-content">
                <h3 style="color: #f1c40f;">–ù–∞–≥—Ä–∞–¥–∞! üèÜ</h3>
                <p style="font-size: 50px; color: #8e44ad; margin: 10px 0; font-weight: bold; text-shadow: 0 0 10px #8e44ad;">Sofa - –î–∏–≤–∞–Ω</p>
                <button onclick="closeModal('modal-secret')">–°—É–ø–µ—Ä!</button>
            </div>
        </div>

        <div id="modal-help" class="modal-overlay">
            <div class="modal-content">
                <h3 style="color: #4ade80;">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å?</h3>
                <p id="help-text" style="font-size: 22px; line-height: 1.5;"></p>
                <button onclick="closeModal('modal-help')">–í –±–æ–π!</button>
            </div>
        </div>

    </div>
</div>

<script>
    // --- –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï ---
    const wrapper = document.getElementById('game-wrapper');
    const container = document.getElementById('game-container');
    function resizeGame() {
        const scale = Math.min(wrapper.clientWidth / 1280, wrapper.clientHeight / 720);
        container.style.transform = `scale(${scale})`;
    }
    window.addEventListener('resize', resizeGame); resizeGame();

    function toggleFullscreen() {
        if (!document.fullscreenElement) document.documentElement.requestFullscreen().catch(()=>{});
        else document.exitFullscreen();
    }

    // –ë–õ–û–ö–ò–†–û–í–ö–ê –°–ö–†–û–õ–õ–ê –ò –ö–û–ù–¢–ï–ö–°–¢–ù–û–ì–û –ú–ï–ù–Æ –ë–†–ê–£–ó–ï–†–ê
    window.addEventListener('keydown', e => {
       if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"].includes(e.code)) e.preventDefault();
    });
    container.addEventListener('contextmenu', e => e.preventDefault());

    // --- –ó–í–£–ö –ò –ì–†–û–ú–ö–û–°–¢–¨ ---
    const bgMusic = document.getElementById('bg-music');
    const sfxCorrect = document.getElementById('snd-correct');
    const sfxWrong = document.getElementById('snd-wrong');
    document.getElementById('vol').addEventListener('input', e => {
        let v = e.target.value; bgMusic.volume = v; sfxCorrect.volume = v; sfxWrong.volume = v;
    });

    function playSfx(type) {
        let s = type === 'correct' ? sfxCorrect : sfxWrong;
        s.currentTime = 0; s.play();
    }

    // --- –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê ---
    let score = 0;
    let currentLevel = 0;
    let questionIndex = 0;
    let isPaused = false;
    let animationFrameId;

    function switchScreen(id) {
       document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
       document.getElementById(id).classList.add('active');
    }
    function showModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function unlockGame() {
       document.getElementById('btn-start').disabled = false;
       document.getElementById('btn-start').innerText = "üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É";
       switchScreen('screen-menu');
       bgMusic.play().catch(()=>{});
    }

    function updateScore() { document.getElementById('score-display').innerText = score; }

    function showError(text, callback) {
        isPaused = true; playSfx('wrong');
        score -= 5; updateScore(); 
        document.getElementById('error-text').innerHTML = text;
        showModal('modal-error');
        window.errorCallback = callback;
    }
    function closeError() {
        closeModal('modal-error'); isPaused = false;
        if(window.errorCallback) { let cb = window.errorCallback; window.errorCallback = null; cb(); }
    }

    function showHelp() {
        let txt = "";
        if(currentLevel === 1) txt = "–£–¥–µ—Ä–∂–∏–≤–∞–π <b>–ü–†–ê–í–£–Æ –∫–Ω–æ–ø–∫—É –º—ã—à–∏</b>, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –≥–æ–ª—É–±–æ–π —Ñ–æ–Ω–∞—Ä–∏–∫ –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º–Ω–æ—Ç—É. –ù–∞—à–µ–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ? –ö–ª–∏–∫–∞–π –ø–æ –Ω–µ–º—É <b>–õ–ï–í–û–ô –∫–Ω–æ–ø–∫–æ–π</b>, –ø–æ–∫–∞ –¥–µ—Ä–∂–∏—à—å —Ñ–æ–Ω–∞—Ä–∏–∫!";
        if(currentLevel === 2) txt = "–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä–µ–ª–æ—á–∫–∏ <b>‚¨ÖÔ∏è –∏ ‚û°Ô∏è</b> –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è –ø—É—à–∫–∏. –ù–∞–∂–º–∏ <b>–ü–†–û–ë–ï–õ</b>, —á—Ç–æ–±—ã –≤—ã—Å—Ç—Ä–µ–ª–∏—Ç—å –ª–∞–∑–µ—Ä–æ–º –≤ –∑–≤–µ–∑–¥—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º.";
        if(currentLevel === 3) txt = "–ö–ª–∏–∫–∞–π –ø–æ —Å–ª–æ–≤–∞–º –≤–Ω–∏–∑—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–ª ‚Äî –∫–ª–∏–∫–Ω–∏ –Ω–∞ —Å–ª–æ–≤–æ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏, –∏ –æ–Ω–æ –≤–µ—Ä–Ω–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ. –û—à–∏–±–∫–∞ –∑–∞—Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã <b>–≤—Å–µ –ø—Ä–æ–ø—É—Å–∫–∏</b>!";
        document.getElementById('help-text').innerHTML = txt;
        showModal('modal-help');
    }

    function startLevel(lvl) {
        cancelAnimationFrame(animationFrameId);
        currentLevel = lvl; questionIndex = 0; isPaused = false;
        switchScreen(`screen-level${lvl}`);
        showHelp();
        if(lvl === 1) initLevel1();
        else if(lvl === 2) initLevel2();
        else if(lvl === 3) initLevel3();
    }

    // --- –£–†–û–í–ï–ù–¨ 1: –§–û–ù–ê–†–ò–ö ---
    const l1Data = [
        { sub: "The boy (he) ___", correct: "reads", wrong: "read", rule: "–° –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ–º 'he' (–æ–Ω) –≥–ª–∞–≥–æ–ª —Ç—Ä–µ–±—É–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è -s!" },
        { sub: "I ___ apples", correct: "like", wrong: "likes", rule: "–° –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ–º 'I' (—è) –æ–∫–æ–Ω—á–∞–Ω–∏–µ -s –Ω–µ –Ω—É–∂–Ω–æ!" },
        { sub: "The cat (it) ___", correct: "jumps", wrong: "jump", rule: "–ñ–∏–≤–æ—Ç–Ω–æ–µ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ ‚Äî —ç—Ç–æ 'it', –ø–æ—ç—Ç–æ–º—É –≥–ª–∞–≥–æ–ª –ø–æ–ª—É—á–∞–µ—Ç -s!" },
        { sub: "We ___ books", correct: "read", wrong: "reads", rule: "–° –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ–º 'We' (–º—ã) –≥–ª–∞–≥–æ–ª –æ—Å—Ç–∞–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º, –±–µ–∑ -s!" },
        { sub: "The girl (she) ___", correct: "runs", wrong: "run", rule: "–° –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ–º 'she' (–æ–Ω–∞) –∫ –≥–ª–∞–≥–æ–ª—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è -s!" }
    ];

    let isRightMouseDown = false;
    
    container.addEventListener('mousedown', e => {
        if(e.button === 2 && currentLevel === 1) { 
           isRightMouseDown = true; updateFlashlight(e); 
        }
    });
    window.addEventListener('mouseup', e => {
        if(e.button === 2 && currentLevel === 1) { 
           isRightMouseDown = false; updateFlashlight(e); 
        }
    });
    container.addEventListener('mousemove', e => {
       if(isRightMouseDown && currentLevel === 1) updateFlashlight(e);
    });

    function updateFlashlight(e) {
        const overlay = document.getElementById('l1-dark-overlay');
        if(isRightMouseDown) {
            const rect = container.getBoundingClientRect();
            const scale = rect.width / 1280;
            let x = (e.clientX - rect.left) / scale;
            let y = (e.clientY - rect.top) / scale;
            overlay.style.background = `radial-gradient(circle 180px at ${x}px ${y}px, rgba(0, 195, 255, 0.1) 0%, rgba(0,0,0,0.98) 70%)`;
        } else {
            overlay.style.background = `rgba(0,0,0,0.98)`;
        }
    }

    function initLevel1() {
       if(questionIndex >= 5) { setTimeout(()=>startLevel(2), 1000); return; }
       let q = l1Data[questionIndex];
       document.getElementById('l1-subject').innerText = q.sub;
       
       const canvas = document.getElementById('l1-words-container');
       canvas.innerHTML = '';
       
       let words = [q.correct, q.wrong].sort(() => Math.random() - 0.5);
       words.forEach((word, i) => {
           let el = document.createElement('div');
           el.className = 'hidden-word'; el.innerText = word;
           
           let rx = i === 0 ? 200 + Math.random() * 200 : 700 + Math.random() * 200;
           let ry = 200 + Math.random() * 300;
           
           el.style.left = rx + 'px'; el.style.top = ry + 'px';
           
           el.onclick = () => {
               if(isPaused || !isRightMouseDown) return; 
               
               isRightMouseDown = false;
               updateFlashlight(null);

               if(word === q.correct) {
                   playSfx('correct'); score++; updateScore(); questionIndex++; initLevel1();
               } else {
                   // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –æ—à–∏–±–∫–∏ 1 —É—Ä–æ–≤–Ω—è
                   let errorMsg = `
                       <div style="font-size:24px; line-height: 1.5;">
                           <p style="color:#f1c40f; font-weight:bold; margin-bottom: 20px; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                               üí° ${q.rule}
                           </p>
                           <p>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:<br> <span style="color:#4ade80; font-weight:bold; font-size: 38px;">${q.correct}</span></p>
                       </div>
                   `;
                   showError(errorMsg, () => {
                       questionIndex++; initLevel1();
                   });
               }
           };
           canvas.appendChild(el);
       });
    }

    // --- –£–†–û–í–ï–ù–¨ 2: –ü–£–®–ö–ê ---
    const l2Data = [
        { sub: "The dogs (they)", correct: "don't", wrong: ["doesn't", "dno't"], rule: "–°–æ–±–∞–∫–∏ ‚Äî —ç—Ç–æ 'They' (–û–Ω–∏). –° –Ω–∏–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º don't." },
        { sub: "The doctor (he)", correct: "doesn't", wrong: ["don't", "deson't"], rule: "–î–æ–∫—Ç–æ—Ä ‚Äî —ç—Ç–æ 'He' (–û–Ω). –° –Ω–∏–º –∏—Å–ø–æ–ª—å–∑—É–µ–º doesn't." },
        { sub: "You", correct: "don't", wrong: ["doesn't", "dnot"], rule: "–° –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ–º 'You' (—Ç—ã/–≤—ã) –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º don't." },
        { sub: "My sister (she)", correct: "doesn't", wrong: ["don't", "dsone't"], rule: "–°–µ—Å—Ç—Ä–∞ ‚Äî —ç—Ç–æ 'She' (–û–Ω–∞). –° –Ω–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ–º doesn't." },
        { sub: "My friends (they)", correct: "don't", wrong: ["doesn't", "dont'"], rule: "–î—Ä—É–∑—å—è ‚Äî —ç—Ç–æ 'They' (–û–Ω–∏). –° –Ω–∏–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º don't." }
    ];

    let l2PlayerX = 600;
    let l2Keys = { ArrowLeft: false, ArrowRight: false, Space: false };
    let bullet = { active: false, x: 0, y: 0 };
    let starsData = [];

    window.addEventListener('keydown', e => { if(e.code in l2Keys) l2Keys[e.code] = true; });
    window.addEventListener('keyup', e => { if(e.code in l2Keys) l2Keys[e.code] = false; });

    function initLevel2() {
       if(questionIndex >= 5) { cancelAnimationFrame(animationFrameId); setTimeout(()=>startLevel(3), 1000); return; }
       
       bullet.active = false; document.getElementById('l2-laser').style.display = 'none';
       document.getElementById('l2-subject').innerText = l2Data[questionIndex].sub;
       
       const container = document.getElementById('l2-stars-container');
       container.innerHTML = ''; starsData = [];
       
       let q = l2Data[questionIndex];
       let words = [q.correct, q.wrong[0], q.wrong[1]].sort(()=>Math.random() - 0.5);
       let positions = [150, 505, 860]; 
       
       words.forEach((w, i) => {
           let el = document.createElement('div');
           el.className = 'l2-star'; el.innerText = w;
           el.style.left = positions[i] + 'px';
           container.appendChild(el);
           starsData.push({ el: el, text: w, x: positions[i], y: 150, width: 270, height: 120 });
       });
       
       cancelAnimationFrame(animationFrameId);
       loopL2();
    }

    function loopL2() {
       if(currentLevel !== 2 || isPaused) { animationFrameId = requestAnimationFrame(loopL2); return; }
       
       if(l2Keys.ArrowLeft) l2PlayerX -= 10;
       if(l2Keys.ArrowRight) l2PlayerX += 10;
        if(l2PlayerX < 0) l2PlayerX = 0;
        if(l2PlayerX > 1200) l2PlayerX = 1200;
       document.getElementById('l2-cannon').style.left = l2PlayerX + 'px';

       if(l2Keys.Space && !bullet.active) {
           bullet.active = true;
            bullet.x = l2PlayerX + 30;
            bullet.y = 580;
            let bEl = document.getElementById('l2-laser');
           bEl.style.display = 'block'; bEl.style.left = bullet.x + 'px';
        }

       if(bullet.active) {
            bullet.y -= 7; 
            let bEl = document.getElementById('l2-laser');
           bEl.style.top = bullet.y + 'px';

           starsData.forEach(star => {
                if (bullet.x < star.x + star.width && bullet.x + 20 > star.x &&
                   bullet.y < star.y + star.height && bullet.y + 60 > star.y) {
                   
                   bullet.active = false; bEl.style.display = 'none';
                   checkL2Shoot(star.text, l2Data[questionIndex]);
                }
            });

           if(bullet.y < 0) { bullet.active = false; bEl.style.display = 'none'; }
        }

       animationFrameId = requestAnimationFrame(loopL2);
    }

    function checkL2Shoot(shotText, q) {
        if(shotText === q.correct) {
           playSfx('correct'); score++; updateScore(); questionIndex++;
           setTimeout(initLevel2, 500);
        } else {
            let msgTitle = `–¢—ã –ø–æ–¥–±–∏–ª –Ω–µ —Ç—É –∑–≤–µ–∑–¥—É: <span style="color:#fff;">${shotText}</span>`;
           if(q.wrong.includes(shotText) && shotText.length === q.correct.length && shotText !== q.wrong[0]) {
                msgTitle = `–û–π! –≠—Ç–æ –∑–≤–µ–∑–¥–∞-–æ–±–º–∞–Ω–∫–∞ —Å –æ–ø–µ—á–∞—Ç–∫–æ–π: <span style="color:#fff;">${shotText}</span>`;
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –æ—à–∏–±–∫–∏ 2 —É—Ä–æ–≤–Ω—è
            let errorMsg = `
                <div style="font-size:24px; line-height: 1.5;">
                    <p style="color:#ff4757; font-weight:bold;">${msgTitle}</p>
                    <p style="color:#f1c40f; font-weight:bold; margin: 20px 0; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        üí° ${q.rule}
                    </p>
                    <p>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:<br> <span style="color:#4ade80; font-weight:bold; font-size: 38px;">${q.correct}</span></p>
                </div>
            `;
           showError(errorMsg, () => {
               questionIndex++; initLevel2();
            });
        }
    }

    // --- –£–†–û–í–ï–ù–¨ 3: –ö–û–ù–°–¢–†–£–ö–¢–û–† –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø ---
    const l3Data = [
        { q: "Does he play chess ?", words: ["he", "play", "Does", "chess", "?"], rule: "–î–ª—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è <b>he</b> –≤ –≤–æ–ø—Ä–æ—Å–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º <b>Does</b>." },
        { q: "Do they like pizza ?", words: ["like", "?", "they", "Do", "pizza"], rule: "–î–ª—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è <b>they</b> –≤ –≤–æ–ø—Ä–æ—Å–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º <b>Do</b>." },
        { q: "Does she read books ?", words: ["books", "she", "?", "read", "Does"], rule: "–î–ª—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è <b>she</b> –≤ –≤–æ–ø—Ä–æ—Å–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º <b>Does</b>." },
        { q: "Do we go home ?", words: ["home", "we", "Do", "?", "go"], rule: "–î–ª—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è <b>we</b> –≤ –≤–æ–ø—Ä–æ—Å–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º <b>Do</b>." },
        { q: "Does it fly high ?", words: ["high", "fly", "Does", "?", "it"], rule: "–î–ª—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è <b>it</b> –≤ –≤–æ–ø—Ä–æ—Å–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º <b>Does</b>." }
    ];

    let l3Target = [];
    let l3Current = [];

    function initLevel3() {
       if(questionIndex >= 5) { finishGame(); return; }
       let currentQ = l3Data[questionIndex];
       l3Target = currentQ.q.split(" ");
       l3Current = [];
       renderL3();
    }

    function renderL3() {
       let sentContainer = document.getElementById('l3-sentence');
       let poolContainer = document.getElementById('l3-pool');
       sentContainer.innerHTML = ''; poolContainer.innerHTML = '';

       // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ª–æ—Ç–æ–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
       for(let i=0; i<l3Target.length; i++) {
           let slot = document.createElement('div');
           slot.className = 'l3-slot';
           
           if(l3Current[i]) {
               slot.classList.add('filled');
               slot.innerText = l3Current[i];
               // –§—É–Ω–∫—Ü–∏—è –í–û–ó–í–†–ê–¢–ê —Å–ª–æ–≤–∞ –æ–±—Ä–∞—Ç–Ω–æ
               slot.onclick = () => {
                   if(isPaused) return;
                   l3Current.splice(i, 1); // –£–¥–∞–ª—è–µ–º —Å–ª–æ–≤–æ
                   renderL3(); 
                };
            } else {
               slot.innerText = "___";
            }
           sentContainer.appendChild(slot);
        }

       // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–ª–∞
       let availableWords = [...l3Data[questionIndex].words];
       l3Current.forEach(w => {
           let idx = availableWords.indexOf(w);
            if(idx > -1) availableWords.splice(idx, 1);
        });

       // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—É–ª–∞
       availableWords.forEach(w => {
           let btn = document.createElement('div');
           btn.className = 'l3-word'; btn.innerText = w;
           btn.onclick = () => {
               if(isPaused) return;
               if(l3Current.length < l3Target.length) {
                   l3Current.push(w);
                   renderL3();
                   checkL3Completion();
                }
            };
           poolContainer.appendChild(btn);
        });
    }

    function checkL3Completion() {
       if(l3Current.length === l3Target.length) {
           let expected = l3Target.join(" ");
           let actual = l3Current.join(" ");
           
            if(actual === expected) {
               playSfx('correct'); score++; updateScore(); questionIndex++;
               setTimeout(initLevel3, 1000);
            } else {
               let currentQ = l3Data[questionIndex];
               let errorMsg = `
                   <div style="font-size:22px; line-height: 1.6;">
                       <p style="margin: 0;">–í–∞—à –æ—Ç–≤–µ—Ç:</p>
                       <p style="color:#ff4757; font-weight:bold; margin-top: 5px;">${actual}</p>
                       
                       <p style="margin: 0; margin-top: 15px;">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:</p>
                       <p style="color:#4ade80; font-weight:bold; margin-top: 5px;">${expected}</p>
                       
                       <hr style="border-color:#45a29e; margin: 20px 0;">
                       
                       <p style="text-align:left; font-size: 20px;">
                           <b>–§–æ—Ä–º—É–ª–∞ –≤–æ–ø—Ä–æ—Å–∞:</b><br> 
                           <span style="color:#66fcf1">Do / Does</span> + <span style="color:#f1c40f">–ö—Ç–æ</span> + <span style="color:#4ade80">–î–µ–π—Å—Ç–≤–∏–µ</span> + –æ—Å—Ç–∞–ª—å–Ω–æ–µ + <span style="color:#66fcf1">?</span>
                       </p>
                       <p style="text-align:left; font-size: 20px; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; color:#f1c40f;">
                           üí° ${currentQ.rule}
                       </p>
                   </div>
                `;
               
               showError(errorMsg, () => {
                   l3Current = []; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏
                   renderL3();
                });
            }
        }
    }

    // --- –§–ò–ù–ê–õ ---
    function finishGame() {
       switchScreen('screen-end');
       document.getElementById('final-score').innerText = score;
       
       let grade = "2";
        if(score >= 13) grade = "5";
        else if(score >= 11) grade = "4";
        else if(score >= 8) grade = "3";
       
       document.getElementById('final-grade').innerText = grade;
        if(grade === "5") document.getElementById('secret-word-btn').style.display = 'inline-block';
    }
</script>
</body>
</html>
